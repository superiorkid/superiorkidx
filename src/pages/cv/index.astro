---
import PdfViewer from "@/components/pdf-viewer";
import type { ProfileSkeleton } from "@/interfaces/profile.interface";
import MainLayout from "@/layouts/MainLayout.astro";
import { contentfulClient } from "@/lib/contentful";

const profileEntries = await contentfulClient.getEntries<ProfileSkeleton>({
  content_type: "profile",
  limit: 1,
  select: ["fields.cvUrl"],
});

const profile = profileEntries.items.at(0)?.fields;
---

<MainLayout pageTitle="CV">
  <section>
    <h1 class="font-bold text-muted-foreground tracking-tight">
      Curiculum Vitae (CV)
    </h1>

    <div class="space-y-8 mt-14 h-fit">
      <PdfViewer client:only pdfUrl={profile?.cvUrl as string} />
    </div>
  </section>
</MainLayout>
